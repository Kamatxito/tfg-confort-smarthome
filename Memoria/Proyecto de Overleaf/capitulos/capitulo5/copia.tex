\chapter{Capa de dispositivos físicos}
Existen muchos tipos de sensores, creados para medir distintas propiedades físicas. A partir de ellos, se pueden obtener datos que, tras ser procesados, pueden convertirse en información de interés. En este capítulo vamos a analizar los tipos de sensores que se van a usar en el proyecto, además de comparar algunos de ellos y obtener un presupuesto.

\section{Tipos de sensores}
Para convertir un frigorífico convencional es uno inteligente, necesitaremos diferentes tipos de sensores:

\begin{itemize}
    \item \textbf{Sensor de nivel de líquidos:} Este sensor se utiliza para detectar cuando un líquido está en un punto determinado. Con esto se puede detectar cuando el depósito de agua del frigorífico está en un punto que necesita rellenarse.
    \item \textbf{Sensor de peso:} Es un sensor que detecta el peso del objeto que se le coloque encima. Funciona como una báscula. Esto se puede utilizar para detectar el número de unidades de un producto dentro del frigorífico sabiendo el peso de uno.
    \item \textbf{Sensor magnético:} Este sensor permite saber cuando la puerta del frigorífico está abierta o no. Esto puede ser muy útil para saber si el frigorífico está siendo usado, o desloguear a un usuario identificado mediante RFID automáticamente al cerrar la puerta, entendiendo que ya ha terminado de hacer uso del frigorífico.
    \item  \textbf{Sensor RFID:} Es un sensor compuesto por una antena, transceptor y un decodificador. Con esto se puede hacer lecturas y escrituras de tarjetas RFID. Esto se puede utilizar para identificar productos que salen y entran en el frigorífico, o a usuarios que se identifican antes de hacer cualquier acción para que todo quede registrado. 
\end{itemize}

Para cada tipo de sensor se ha realizado una búsqueda y análisis de requisitos para escoger  aquel que mejor se adapta a las necesidades del frigorífico. A continuación se detallan:

\clearpage
\subsection{Sensor de nivel de líquidos}

En los sensores de nivel existen diferentes tipos. Principalmente destacan 3:


\begin{enumerate}
    \item \underline{\textbf{Sensor Cebek C-7248:}} Es un sensor que consiste con una boya que se coloca en la parte inferior o superior del recipiente. Si el sensor se coloca en la parte superior del recipiente, la boya flotará cuando haya líquido y si llega al máximo del sensor, dejará el circuito cerrado, cuando no haya líquido la boya no flotará y dejará el circuito abierto. Si el sensor se coloca en la parte inferior del recipiente, la posición del sensor será totalmente invertida, así que el funcionamiento también lo será. El sensor termina en dos cables que se conectarán al controlador para obtener toda la información que recoja. Se puede ver como es el sensor en la Figura \ref{fig:cebakc7248}.

\begin{figure}[h] 
    \centering
    \includegraphics[width=.25\textwidth]{capitulos/capitulo5/cebakc7248.png}
    \caption{Sensor Cebak C-7248.}
    \label{fig:cebakc7248}
\end{figure}

\begin{itemize}
    \item \textbf{Estados del sensor:} Se pueden apreciar los diferentes estados que tiene el sensor en la Tabla \ref{tab:cebakc7248}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|c|}
        \rowcolor[gray]{.5}
        \hline
         \color{white}Estado físico&\color{white}Valor&\color{white}Estado sensor \\
         \hline
         Boya cerrando circuito&1&ON \\
         \hline
         Boya abriendo circuito&0&OFF  \\
         \hline
    \end{tabular}
    \caption{Estados posibles del sensor Cebak C-7248}
    \label{tab:cebakc7248}
\end{table}

\clearpage
\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:cebakc7248esp}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Tipo de montaje & Instalación vertical   \\
        \hline
            Presión de trabajo & Menor de 0,5 MPa   \\
        \hline
            Densidad relativa de la boya & 0,7   \\
        \hline
            Tipo de salida & 1 contacto   \\
       \hline 
            Capacidad de los contactos & 24 V DC / 0,5 A   \\
        \hline
            Margen de temperaturas & -20 a 80ºC   \\
        \hline
            Grado de protección & IP68   \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor Cebak C-7248}
    \label{tab:cebakc7248esp}
\end{table}

\item \underline{\textbf{Sensor Funduino de líquido:}} Este sensor cuenta con una parte que esta formada con un conjunto de conductores que no están conectados. Cuando toca un líquido conductor, estos lo detectan y devuelven un valor comprendido entre 0 y el voltaje con el que está alimentado el sensor. Este valor será más alto conforme la conductividad entre los conductores sea mayor. El sensor se puede ver en al Figura \ref{fig:funduino}.

\begin{figure}[h] 
    \centering
    \includegraphics[width=.35\textwidth]{capitulos/capitulo5/funduino.png}
    \caption{Sensor Funduino.}
    \label{fig:funduino}
\end{figure}

\begin{itemize}
    \item \textbf{Estados del sensor:} Se pueden apreciar los diferentes estados que tiene el sensor en la Tabla \ref{tab:funduino}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
         \color{white}Estado físico&\color{white}Valor \\
         \hline
         Sin líquido&0 \\
         \hline
         Con líquido&Desde 0 hasta voltaje máx.  \\
         \hline
    \end{tabular}
    \caption{Estados posibles del sensor Funduino}
    \label{tab:funduino}
\end{table}

\clearpage
\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:fundinoesp}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Voltaje & DC 3-5V   \\
        \hline    
            Corriente de funcionamiento & Menos de 20 mA   \\
        \hline     
            Tipo de sensor & analógico   \\
        \hline    
            Área de detección & 40mm x 16mm   \\
        \hline    
            Proceso de producción & FR4 HASL de doble cara   \\
        \hline    
            Margen de temperaturas & -10 a 70ºC   \\
        \hline    
            Tamaño & 62mm x 20mm x 8mm   \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor Funduino}
    \label{tab:fundinoesp}
\end{table}

\item \underline{\textbf{Sensor XKC-Y25-T12V:}} Es un sensor que nos detecta un líquido si éste está delante de él. No tiene porque estar en contacto con el líquido, por lo que puede ser detectado desde el exterior del recipiente. Puede ser colocado en un punto de altura deseado del recipiente y te avisará cuando haya líquido a esa altura. Incluye un LED rojo que se enciende cuando detecta líquido.

Con el sensor viene una placa intermedia que, además de hacer de conexión entre el controlador y el sensor, incluye un botón para regular la sensibilidad de éste. Se puede apreciar todo esto en la Figura \ref{fig:XKC-Y25-T12V}.

\begin{itemize}
    \item \textbf{Estados del sensor:} Se pueden apreciar los diferentes estados que tiene el sensor en la Tabla \ref{tab:XKC-Y25-T12V}.
\end{itemize}

\begin{figure}[h] 
    \centering
    \includegraphics[width=.30\textwidth]{capitulos/capitulo5/xkc.png}
    \caption{Sensor XKC-Y25-T12V.}
    \label{fig:XKC-Y25-T12V}
\end{figure}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|c|}
        \rowcolor[gray]{.5}
        \hline
         \color{white}Estado físico&\color{white}Valor&\color{white}Estado sensor \\
         \hline
         Sin líquido&0&OFF \\
         \hline
         Con líquido&1&ON  \\
         \hline
    \end{tabular}
    \caption{Estados posibles del sensor XKC-Y25-T12V}
    \label{tab:XKC-Y25-T12V}
\end{table}

\clearpage
\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:XKC-Y25-T12Vesp}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Alimentación & 5 a 24 V  \\
        \hline    
            Consumo&5 mA  \\
        \hline    
            Salida de voltaje (nivel alto)&InVCC  \\
        \hline    
            Salida (nivel bajo) & 0V  \\
        \hline    
            Corriente de salida& 1 a 50 mA max  \\
        \hline    
            Tiempo de respuesta& 500 ms  \\
        \hline    
            Temperatura de funcionamiento& 0 a 105ºC  \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor XKC-Y25-T12V}
    \label{tab:XKC-Y25-T12Vesp}
\end{table}
\end{enumerate}

Estos sensores han sido evaluados por sus especificaciones y el \textbf{sensor XKC-Y25-T12V} es el elegido porque, además de cumplir los requisitos que se han pedido, es el único que es capaz de medir la altura de un líquido en su recipiente sin tener que estar dentro de éste, cosa que es importante tenerlo en cuenta para la higiene, y que ningún otro sensor ha cumplido esta característica.

También, el \textbf{sensor Funduino} no destaca por ser el más preciso de todos, y el \textbf{sensor Cebek C-7248} solo nos vale para el máximo o el mínimo del recipiente, además de tener que modificar el recipiente para instalarlo, mientras que el elegido se puede colocar a la altura que se desee, y puede ser pegado al exterior sin necesidad de modificar el recipiente.

El sensor que se ha elegido tiene tres pines a conectar en el controlador: 
\begin{itemize}
    \item \textbf{Pin VCC:} Suministra alimentación al sensor.
    \item \textbf{Pin GND:} Suministra una toma a tierra al sensor.
    \item \textbf{Pin Data:} Suministra los datos del sensor.
\end{itemize}

\subsection{Sensor de peso}

En los sensores de peso existen diferentes tipos, principalmente destacan 3.

\begin{enumerate}

\item \underline{\textbf{Sensor FSR:}} Es un sensor de peso con forma de plancha donde te proporciona el peso de cualquier objeto que se sitúe encima de él. Se puede apreciar la forma de éste en la Figura \ref{fig:FSR}.

\begin{figure}[h] 
    \centering
    \includegraphics[width=.27\textwidth]{capitulos/capitulo5/fsr.png}
    \caption{Sensor FSR.}
    \label{fig:FSR}
\end{figure}

\newpage
\begin{itemize}
    \item \textbf{Estados del sensor:} Se pueden apreciar los diferentes estados que tiene el sensor en la Tabla \ref{tab:FSR}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
         \color{white}Estado físico&\color{white}Valor \\
         \hline
         Sin peso&0 \\
         \hline
         Con peso&Peso del objeto  \\
         \hline
    \end{tabular}
    \caption{Estados posibles del sensor FSR}
    \label{tab:FSR}
\end{table}

\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:FSResp}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Proceso de fabricación & película delgada  \\
        \hline    
            Señal de salida & analógica  \\
        \hline    
            Rango de inducción de presión & 20g-5kg  \\
        \hline    
            Disparador & 20 g, \\
        \hline    
            Espesor & 0.45mm  \\
        \hline    
            Margen de temperaturas & -2 a 55ºC \\
        \hline    
            Tiempo de activación & 0.01s  \\
        \hline    
            Tiempo de respuesta & 10ms  \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor FSR}
    \label{tab:FSResp}
\end{table}

\item \underline{\textbf{Sensor HX711 en forma de barra:}} Es una barra de metal que se coloca debajo de una superficie plana, e indica el peso de cualquier objeto que se coloque encima. Necesita una pequeña placa entre el sensor y el controlador para enviar los datos a este último. Este sensor se muestra en la Figura \ref{fig:hx711b}.

\begin{figure}[h] 
    \centering
    \includegraphics[width=.25\textwidth]{capitulos/capitulo5/hx711b.png}
    \caption{Sensor HX711 en forma de barra.}
    \label{fig:hx711b}
\end{figure}

\newpage
\begin{itemize}
    \item \textbf{Estados del sensor:} Se pueden apreciar los diferentes estados que tiene el sensor en la Tabla \ref{tab:hx711b}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
         \color{white}Estado físico&\color{white}Valor\\
         \hline
         Sin peso&0 \\
         \hline
         Con peso&Peso del objeto  \\
         \hline
    \end{tabular}
    \caption{Estados posibles del sensor HX711 en forma de barra}
    \label{tab:hx711b}
\end{table}

\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:hx711besp}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Rango de peso & 20g-100kg \\
        \hline    
            Consumo de corriente & menos de 1,5 mA  \\
        \hline   
            Operación rango de voltaje de alimentación & 2.6 ~ 5.5 V  \\
        \hline    
            Rango de temperatura de funcionamiento & -20 grado ~ + 85 grados  \\
        \hline    
            Carga Cell Tamaño & 75 mm x 12,7 mm x 12,7 mm  \\
        \hline    
            Memoria Tamaño & 24 mm * 16 mm  \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor HX711 en forma de barra}
    \label{tab:hx711besp}
\end{table}

\item \underline{\textbf{Sensor HX711 en forma de célula:}} Es un conjunto de células que se coloca debajo de una superficie plana, e indica el peso de cualquier objeto que se coloque encima. En el pack vienen cuatro células, para colocar una en cada esquina de la superficie. Necesita una pequeña placa entre los sensores y el controlador para enviar los datos a éste. Este sensor se muestra en la Figura \ref{fig:hx711c}.

\begin{figure}[h] 
    \centering
    \includegraphics[width=.35\textwidth]{capitulos/capitulo5/hx711c.png}
    \caption{Sensor HX711 en forma de célula.}
    \label{fig:hx711c}
\end{figure}

\newpage
\begin{itemize}
    \item \textbf{Estados del sensor:} A continuación se muestran los diferentes estados que tiene el sensor en la Tabla \ref{tab:hx711c}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
         \color{white}Estado físico&\color{white}Valor \\
         \hline
         Sin peso&0 \\
         \hline
         Con peso&Peso del objeto  \\
         \hline
    \end{tabular}
    \caption{Estados posibles del sensor HX711 en forma de célula}
    \label{tab:hx711c}
\end{table}

\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:hx711cesp}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Rango de peso & 20g-200kg \\
        \hline    
            Consumo de corriente & menos de 1,5 mA  \\
        \hline    
            Operación rango de voltaje de alimentación & 2.6 ~ 5.5 V  \\
        \hline    
            Rango de temperatura de funcionamiento & -20 grado ~ + 85 grados  \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor HX711 en forma de célula}
    \label{tab:hx711cesp}
\end{table}
\end{enumerate}

Estos sensores han sido evaluados por sus especificaciones y el \textbf{sensor HX711 en forma de célula} es el elegido porque, además de cumplir los requisitos que se han pedido, es el más pequeño para poder debajo de una superficie sin ocupar mucho espacio y además, es capaz de recoger pesos de hasta 200kg.

El \textbf{sensor FSR} es el más fino, pero no es capaz de registrar pesos más grandes de 5kg, y el \textbf{sensor HX711 en forma de barra} es muy parecido a características al elegido, pero es más grande y ocuparía demasiado espacio en el las zonas del frigorífico donde se apliquen.

El sensor que se ha elegido tiene cuatro pines a conectar en el controlador: 
\begin{itemize}
    \item \textbf{Pin VCC:} Suministra alimentación al sensor.
    \item \textbf{Pin GND:} Suministra una toma a tierra al sensor.
    \item \textbf{Pin Data:} Suministra los datos del sensor.
    \item \textbf{Pin CLK:} Sirve para sincronizar el sensor y el controlador con pulsos de reloj.
\end{itemize}

\subsection{Sensor magnético}

En los sensores de peso existen diferentes tipos, principalmente destacan 2.

\begin{enumerate}

\item \underline{\textbf{Sensor magnético con cable:}} Este sensor consta de dos partes que están pegadas a una puerta/ventana y la otra parte a un marco. Cuando éste se abre, las dos partes del sensor magnético se separan y notifican de que la puerta/ventana se ha abierto. Al cerrar, las dos partes se vuelven a juntar y notifica que se ha cerrado. Este sensor se muestra en la Figura \ref{fig:magnéticoc}.

\begin{figure}[h] 
    \centering
    \includegraphics[width=.40\textwidth]{capitulos/capitulo5/magneticocable.png}
    \caption{Sensor magnético.}
    \label{fig:magnéticoc}
\end{figure}

\begin{itemize}
    \item \textbf{Estados del sensor:} A continuación se muestran los diferentes estados que tiene el sensor en la Tabla \ref{tab:magnéticoc}
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|c|}
        \rowcolor[gray]{.5}
        \hline
         \color{white}Estado físico&\color{white}Valor&\color{white}Estado sensor \\
         \hline
         Partes tocándose&1&ON \\
         \hline
         Partes separadas&0&OFF  \\
         \hline
    \end{tabular}
    \caption{Estados posibles del sensor magnético}
    \label{tab:magnéticoc}
\end{table}

\newpage
\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:magnéticoccesp}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Capacidad & 0,5 A  \\
        \hline    
            Voltaje & 100 V  \\
        \hline    
            Potencia nominal & 10W  \\
        \hline    
            Accionamiento Distancia & 15-25mm  \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor magnético}
    \label{tab:magnéticoccesp}
\end{table}

\item \underline{\textbf{Sensor magnético inalámbrico:}} Es igual que el anterior, solo que éste no necesita de un cable para enviar la información, pues utiliza la frecuencia 433MHz para enviar la información al controlador, que será recogida por un receptor ya aplicado a éste, llamado PT2262. Este sensor se muestra en la Figura \ref{fig:magnéticoi}.

\begin{figure}[h] 
    \centering
    \includegraphics[width=.45\textwidth]{capitulos/capitulo5/magneticoinalambrico.png}
    \caption{Sensor magnético inalámbrico.}
    \label{fig:magnéticoi}
\end{figure}

\begin{itemize}
    \item \textbf{Estados del sensor:} A continuación se muestran los diferentes estados que tiene el sensor en la Tabla \ref{tab:magnéticoi}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|c|}
        \rowcolor[gray]{.5}
        \hline
         \color{white}Estado físico&\color{white}Valor&\color{white}Estado sensor \\
         \hline
         Partes tocándose&1&ON \\
         \hline
         Partes separadas&0&OFF  \\
         \hline
    \end{tabular}
    \caption{Estados posibles del sensor magnético inalámbrico}
    \label{tab:magnéticoi}
\end{table}

\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:magnéticoiesp}
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Duración de la batería & alrededor de 8 meses  \\
        \hline    
            Frecuencia de transmisión & 433MHz  \\
        \hline    
            Distancia de transmisión & mayor que 100m  \\
        \hline   
            Distancia de detección de imán de puerta & 25 - 35 mm  \\
        \hline    
            Formato de codificación inalámbrica & Compatible para PT2262  \\
        \hline    
            Temperatura de funcionamiento & -10ºC a 40ºC  \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor magnético inalámbrico}
    \label{tab:magnéticoiesp}
\end{table}
\end{enumerate}

Estos sensores han sido evaluados por sus especificaciones y el \textbf{sensor magnético inalámbrico} es el elegido porque, además de cumplir los requisitos que se han pedido, es conveniente que sea inalámbrico para poder conectarlo más cómodamente al controlador.

El sensor que se ha elegido tiene un receptor inalámbrico que es lo que se conecta al controlador 7 pines para conectar. Dos de ellos son para alimentación, y los cinco restantes se conectan a pines digitales para su correcto funcionamiento (cada uno de esos cinco pines restantes son para cinco canales diferentes. Usando un canal solo es suficiente).

\subsection{Sensor RFID}

El sensor RFID es un sistema de almacenamiento y recuperación de datos remoto que usa dispositivos denominados etiquetas, tarjetas o transpondedores RFID. El propósito fundamental de la tecnología RFID es transmitir la identidad de un objeto (similar a un número de serie único) mediante ondas de radio. Este sensor se muestra en la Figura \ref{fig:rfid}.

Para esta categoría de sensor, no se han encontrado más de un sensor dentro de un precio razonable. Además, el encontrado es el más usado, así que esta será la opción a usar.

Las conexiones de este sensor son a través de 8 pines:

\begin{itemize}
    \item \textbf{Pin VCC:} Suministra alimentación al sensor.
    \item \textbf{Pin GND:} Suministra una toma a tierra al sensor.
    \item \textbf{Pin RST:} Es un pin que, si se pone bajo y luego en alto, el sensor se reinicia.
    \item \textbf{Pin IRQ:} Es un pin de interrupción que puede alertar al microcontrolador cuando la etiqueta RFID se acerca.
    \item \textbf{Pin MISO:} actúa como Master-In-Slave-Out cuando la interfaz SPI está habilitada.
    \item \textbf{Pin MOSI:} es una entrada SPI al módulo RC522.
    \item \textbf{Pin SCK:} sirve para sincronizar el sensor y el controlador con pulsos de reloj.
    \item \textbf{Pin SS:} actúa como entrada de señal cuando la interfaz SPI está habilitada.
\end{itemize}

\begin{figure}[h] 
    \centering
    \includegraphics[width=.50\textwidth]{capitulos/capitulo5/rfid.png}
    \caption{Sensor RFID.}
    \label{fig:rfid}
\end{figure}

\begin{itemize}
    \item \textbf{Especificaciones técnicas:} Las especificaciones principales del sensor se muestran en la Tabla \ref{tab:rfidiesp}.
\end{itemize}

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Característica&\color{white}Valor  \\
        \hline
            Corriente de funcionamiento & 13-26mA / DC 3,3V   \\
        \hline    
            Corriente de vacío & 10-13 mA / DC 3.3 V   \\
        \hline    
            Corriente máxima & menos de 30mA   \\
        \hline    
            Frecuencia de operación & 13.56 MHz   \\
        \hline    
            Rango de lectura & 0 - 35 mm   \\
        \hline   
            Módulo de interfaces SPI & velocidad de transferencia de datos de hasta 10Mbit/s   \\
         \hline
    \end{tabular}
    \caption{Especificaciones del sensor RFID}
    \label{tab:rfidiesp}
\end{table}

\section{Localización}

Estos sensores van a ser colocados en el exterior e interior del frigorífico, para poder recoger toda la información posible y luego enviarla al controlador que éste ya se encargará de enviarlo a las capas superiores.

Se va a colocar un sensor RFID en el exterior del frigorífico para registrar la entrada y salida de productos y la identificación de usuarios a través de tarjetas RFID. También se va a colocar en el exterior (parte superior del frigorífico) dos sensores magnéticos en la puerta que tiene el frigorífico, para saber cuando la puerta está abierta o cerrada. También se necesitarán sus dos receptores PT2262.

En el interior de éste, se van a colocar los sensores restantes. Se va a necesitar un sensor de nivel de líquido para colocar en una zona inferior del recipiente de agua integrado en el frigorífico, para avisar cuando el nivel de éste sea bajo y sea necesario rellenarlo. También van a ser necesarios 12 sensores de peso para colocar en los cajones de fruta, verdura y embutido, y también en los basares de refrescos, huevos y leche.

\begin{figure}[h] 
    \centering
    \includegraphics[width=.80\textwidth]{capitulos/capitulo5/sensoreslg.jpg}
    \caption{Sensores instalados en el frigorífico.}
    \label{fig:sensoreslg}
\end{figure}

\section{Presupuesto}
El presupuesto necesario para poder obtener los sensores necesarios se puede ver en la Tabla \ref{tab:presupuesto}.

\begin{table}[h]
    \centering
    \begin{tabular}{|l|c|c|c|}
        \rowcolor[gray]{.5}
        \hline
            \color{white}Sensor&\color{white}Precio&\color{white}Cantidad&\color{white}Subtotal  \\
        \hline
            RFID&7,99 euros &1&7,99 euros  \\
        \hline    
            Magnético&12,89 euros &2&25,78 euros  \\
        \hline    
            PT2262&4,59 euros &2&9,18 euros  \\
        \hline    
            XKC-Y25-T12V&10,50 euros &1&10,50 euros  \\
        \hline    
            HX711&7,10 euros &12&85,20 euros  \\
        \hline    
        \rowcolor[gray]{.9}
         \hline
            Total&-&18&138,65 euros  \\
        \hline
    \end{tabular}
    \caption{Presupuesto de la capa de dispositivos}
    \label{tab:presupuesto}
\end{table}

Como se muestra en la tabla, teniendo en cuenta todos los sensores necesarios para la realización de este proyecto, es necesario \textbf{138,65 euros} para poder conseguir desarrollar esta capa.